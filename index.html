<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Invitaci√≥n a mi Graduaci√≥n</title>
  <style>
    body {
      margin: 0;
      background: #0b1f3a;
      overflow: hidden; /* Prevent scrollbars from content overflow */
      font-family: 'Georgia', serif;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      text-align: center;
      position: relative; /* Needed for absolute positioning of children */
    }

    h1 {
      font-size: 3em;
      color: #d4af37; /* Dorado */
      text-shadow: 0 0 10px #d4af37;
      margin-bottom: 0.2em;
      z-index: 10;
      position: relative;
    }

    p {
      font-size: 1.3em;
      max-width: 600px;
      margin: 0 30px 30px;
      color: #cfcfcf;
      z-index: 10;
      position: relative;
    }

    /* General button style */
    button {
      background: transparent;
      border: 2px solid #d4af37;
      padding: 10px 25px;
      font-size: 1.2em;
      color: #d4af37;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.3s ease;
      z-index: 10;
      position: relative;
    }

    button:hover {
      background: #d4af37;
      color: #0b1f3a;
    }

    /* Music control button and message */
    .control-musica {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 15; /* Ensure it's above everything */
      display: flex;
      align-items: center;
      gap: 10px; /* Space between button and message */
    }

    #btnMusica {
      background: rgba(212, 175, 55, 0.8);
      border: 2px solid #d4af37;
      color: #0b1f3a;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      font-size: 1.5em;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(10px); /* Frosted glass effect */
    }

    #btnMusica:hover {
      background: #d4af37;
      transform: scale(1.1);
      box-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
    }

    #btnMusica.muted {
      background: rgba(128, 128, 128, 0.8);
      border-color: #808080;
      color: #333;
    }

    #musicMessage {
        background: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 8px 15px;
        border-radius: 5px;
        font-size: 0.9em;
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
        pointer-events: none; /* Allows clicks to pass through */
    }
    
    #musicMessage.show {
        opacity: 1;
    }

    /* --- MARIPOSAS GENERALES (Background para todas las vistas) --- */
    .mariposas-gif {
      position: fixed;
      width: 100px;
      height: 80px;
      pointer-events: none; /* Allows clicks to pass through */
      z-index: 5; /* Below main content */
      opacity: 0.9;
    }

    .mariposas-gif img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      filter: drop-shadow(0 0 8px rgba(255, 165, 0, 0.3)); /* Soft glow */
    }

    /* Butterfly sizes */
    .mariposa-pequena { width: 60px; height: 48px; }
    .mariposa-mediana { width: 80px; height: 64px; }
    .mariposa-grande { width: 120px; height: 96px; }

    /* Keyframes for general butterfly animations */
    .gif1 { left: 10%; bottom: -100px; animation: vuelo-gif1 15s linear infinite; }
    .gif2 { left: 60%; bottom: -100px; animation: vuelo-gif2 18s linear infinite; animation-delay: 5s; }
    .gif3 { left: 80%; bottom: -100px; animation: vuelo-gif3 20s linear infinite; animation-delay: 10s; }
    .gif4 { left: 30%; bottom: -100px; animation: vuelo-gif4 16s linear infinite; animation-delay: 3s; }
    .gif5 { left: 90%; bottom: -100px; animation: vuelo-gif5 14s linear infinite; animation-delay: 8s; }
    .gif6 { left: 5%; bottom: -100px; animation: vuelo-gif6 17s linear infinite; animation-delay: 12s; }
    .gif7 { left: 45%; bottom: -100px; animation: vuelo-gif7 19s linear infinite; animation-delay: 6s; }
    .gif8 { left: 70%; bottom: -100px; animation: vuelo-gif8 13s linear infinite; animation-delay: 15s; }
    .gif9 { left: 25%; bottom: -100px; animation: vuelo-gif9 21s linear infinite; animation-delay: 9s; }
    .gif10 { left: 95%; bottom: -100px; animation: vuelo-gif10 16s linear infinite; animation-delay: 4s; }
    .gif11 { left: 35%; bottom: -100px; animation: vuelo-gif11 18s linear infinite; animation-delay: 11s; }
    .gif12 { left: 55%; bottom: -100px; animation: vuelo-gif12 14s linear infinite; animation-delay: 7s; }
    .gif13 { left: 15%; bottom: -100px; animation: vuelo-gif13 22s linear infinite; animation-delay: 13s; }
    .gif14 { left: 85%; bottom: -100px; animation: vuelo-gif14 15s linear infinite; animation-delay: 2s; }
    .gif15 { left: 65%; bottom: -100px; animation: vuelo-gif15 17s linear infinite; animation-delay: 16s; }

    /* These keyframes define the complex flight paths for the butterflies */
    @keyframes vuelo-gif1 { 0% { transform: translateX(0) translateY(0) scale(0.4) rotate(0deg); opacity: 0; } 10% { opacity: 0.9; transform: scale(0.6) rotate(5deg); } 50% { transform: translateX(-50px) translateY(-50vh) scale(1) rotate(-10deg); } 90% { opacity: 0.9; } 100% { transform: translateX(-100px) translateY(-120vh) scale(0.4) rotate(15deg); opacity: 0; } }
    @keyframes vuelo-gif2 { 0% { transform: translateX(0) translateY(0) scale(0.4) rotate(0deg); opacity: 0; } 10% { opacity: 0.9; transform: scale(0.6) rotate(-5deg); } 30% { transform: translateX(30px) translateY(-30vh) scale(0.8) rotate(10deg); } 60% { transform: translateX(-20px) translateY(-60vh) scale(1) rotate(-8deg); } 90% { opacity: 0.9; } 100% { transform: translateX(50px) translateY(-130vh) scale(0.4) rotate(20deg); opacity: 0; } }
    @keyframes vuelo-gif3 { 0% { transform: translateX(0) translateY(0) scale(0.4) rotate(0deg); opacity: 0; } 10% { opacity: 0.9; transform: scale(0.6) rotate(8deg); } 40% { transform: translateX(-60px) translateY(-40vh) scale(0.9) rotate(-12deg); } 70% { transform: translateX(20px) translateY(-70vh) scale(1) rotate(5deg); } 90% { opacity: 0.9; } 100% { transform: translateX(-30px) translateY(-125vh) scale(0.4) rotate(-15deg); opacity: 0; } }
    @keyframes vuelo-gif4 { 0% { transform: translateX(0) translateY(0) scale(0.4) rotate(0deg); opacity: 0; } 10% { opacity: 0.9; transform: scale(0.7) rotate(7deg); } 45% { transform: translateX(40px) translateY(-45vh) scale(1) rotate(-7deg); } 75% { transform: translateX(-30px) translateY(-75vh) scale(0.8) rotate(9deg); } 90% { opacity: 0.9; } 100% { transform: translateX(20px) translateY(-120vh) scale(0.4) rotate(10deg); opacity: 0; } }
    @keyframes vuelo-gif5 { 0% { transform: translateX(0) translateY(0) scale(0.5) rotate(0deg); opacity: 0; } 10% { opacity: 0.9; transform: scale(0.7) rotate(-6deg); } 50% { transform: translateX(-70px) translateY(-50vh) scale(1) rotate(15deg); } 80% { transform: translateX(30px) translateY(-80vh) scale(0.7) rotate(-10deg); } 100% { transform: translateX(-10px) translateY(-130vh) scale(0.5) rotate(0deg); opacity: 0; } }
    @keyframes vuelo-gif6 { 0% { transform: translateX(0) translateY(0) scale(0.3) rotate(0deg); opacity: 0; } 20% { opacity: 0.9; transform: scale(0.5) rotate(-8deg); } 45% { transform: translateX(35px) translateY(-35vh) scale(0.6) rotate(12deg); } 75% { transform: translateX(-30px) translateY(-75vh) scale(0.8) rotate(-15deg); } 90% { opacity: 0.9; } 100% { transform: translateX(10px) translateY(-110vh) scale(0.3) rotate(0deg); opacity: 0; } }
    @keyframes vuelo-gif7 { 0% { transform: translateX(0) translateY(0) scale(0.4) rotate(0deg); opacity: 0; } 15% { opacity: 0.9; transform: scale(0.7) rotate(5deg); } 40% { transform: translateX(-45px) translateY(-40vh) scale(0.9) rotate(-8deg); } 70% { transform: translateX(20px) translateY(-70vh) scale(1) rotate(10deg); } 90% { opacity: 0.9; } 100% { transform: translateX(-30px) translateY(-120vh) scale(0.4) rotate(0deg); opacity: 0; } }
    @keyframes vuelo-gif8 { 0% { transform: translateX(0) translateY(0) scale(0.5) rotate(0deg); opacity: 0; } 10% { opacity: 0.9; transform: scale(0.6) rotate(7deg); } 30% { transform: translateX(30px) translateY(-30vh) scale(0.8) rotate(-12deg); } 60% { transform: translateX(-20px) translateY(-60vh) scale(1) rotate(8deg); } 90% { opacity: 0.9; } 100% { transform: translateX(50px) translateY(-130vh) scale(0.5) rotate(-10deg); opacity: 0; } }
    @keyframes vuelo-gif9 { 0% { transform: translateX(0) translateY(0) scale(0.4) rotate(0deg); opacity: 0; } 10% { opacity: 0.9; transform: scale(0.7) rotate(-6deg); } 40% { transform: translateX(-60px) translateY(-40vh) scale(0.9) rotate(12deg); } 70% { transform: translateX(20px) translateY(-70vh) scale(1) rotate(-10deg); } 90% { opacity: 0.9; } 100% { transform: translateX(-30px) translateY(-120vh) scale(0.4) rotate(5deg); opacity: 0; } }
    @keyframes vuelo-gif10 { 0% { transform: translateX(0) translateY(0) scale(0.4) rotate(0deg); opacity: 0; } 15% { opacity: 0.9; transform: scale(0.6) rotate(10deg); } 40% { transform: translateX(-45px) translateY(-40vh) scale(0.8) rotate(-7deg); } 70% { transform: translateX(25px) translateY(-70vh) scale(1) rotate(5deg); } 90% { opacity: 0.9; } 100% { transform: translateX(-20px) translateY(-130vh) scale(0.4) rotate(0deg); opacity: 0; } }
    @keyframes vuelo-gif11 { 0% { transform: translateX(0) translateY(0) scale(0.3) rotate(0deg); opacity: 0; } 20% { opacity: 0.9; transform: scale(0.5) rotate(5deg); } 45% { transform: translateX(40px) translateY(-35vh) scale(0.7) rotate(-10deg); } 75% { transform: translateX(-20px) translateY(-75vh) scale(0.9) rotate(12deg); } 90% { opacity: 0.9; } 100% { transform: translateX(10px) translateY(-110vh) scale(0.3) rotate(0deg); opacity: 0; } }
    @keyframes vuelo-gif12 { 0% { transform: translateX(0) translateY(0) scale(0.4) rotate(0deg); opacity: 0; } 15% { opacity: 0.9; transform: scale(0.6) rotate(-5deg); } 40% { transform: translateX(-50px) translateY(-40vh) scale(0.9) rotate(10deg); } 70% { transform: translateX(20px) translateY(-70vh) scale(1) rotate(-8deg); } 90% { opacity: 0.9; } 100% { transform: translateX(-30px) translateY(-125vh) scale(0.4) rotate(15deg); opacity: 0; } }
    @keyframes vuelo-gif13 { 0% { transform: translateX(0) translateY(0) scale(0.5) rotate(0deg); opacity: 0; } 10% { opacity: 0.9; transform: scale(0.7) rotate(8deg); } 40% { transform: translateX(-60px) translateY(-45vh) scale(1) rotate(-12deg); } 70% { transform: translateX(20px) translateY(-75vh) scale(0.9) rotate(5deg); } 90% { opacity: 0.9; } 100% { transform: translateX(-30px) translateY(-120vh) scale(0.5) rotate(-15deg); opacity: 0; } }
    @keyframes vuelo-gif14 { 0% { transform: translateX(0) translateY(0) scale(0.3) rotate(0deg); opacity: 0; } 20% { opacity: 0.9; transform: scale(0.5) rotate(10deg); } 45% { transform: translateX(35px) translateY(-35vh) scale(0.6) rotate(-8deg); } 75% { transform: translateX(-30px) translateY(-75vh) scale(0.8) rotate(15deg); } 90% { opacity: 0.9; } 100% { transform: translateX(10px) translateY(-110vh) scale(0.3) rotate(0deg); opacity: 0; } }
    @keyframes vuelo-gif15 { 0% { transform: translateX(0) translateY(0) scale(0.4) rotate(0deg); opacity: 0; } 15% { opacity: 0.9; transform: scale(0.6) rotate(-7deg); } 40% { transform: translateX(-45px) translateY(-40vh) scale(0.8) rotate(9deg); } 70% { transform: translateX(25px) translateY(-70vh) scale(1) rotate(-5deg); } 90% { opacity: 0.9; } 100% { transform: translateX(-20px) translateY(-130vh) scale(0.4) rotate(10deg); opacity: 0; } }

    /* Styles for content sections and transitions */
    #main-content, #ceremonia-content, #recepcion-content {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #0b1f3a; /* Match body background */
      display: flex; /* Default for all, but overridden below for hidden pages */
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
      transition: opacity 0.7s ease-in-out, visibility 0.7s ease-in-out; /* Smooth transition */
    }

    /* Initial state for pages: main-content visible, others hidden */
    #main-content {
      opacity: 1;
      visibility: visible;
      pointer-events: all;
    }

    #ceremonia-content, #recepcion-content {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      display: none; /* Crucial: ensures they don't occupy space when hidden */
    }

    /* Common text styles for info and quotes */
    .info-text {
        font-size: 1.1em;
        margin-top: 15px;
        margin-bottom: 5px;
        color: #d4af37; /* ¬°COLOR DORADO APLICADO AQU√ç! */
        font-weight: bold;
    }

    .quote-text {
        font-style: italic;
        margin-top: 20px;
        margin-bottom: 25px;
        max-width: 700px;
        color: #cfcfcf;
        line-height: 1.5;
    }

    /* Specific styles for elements within content sections */
    #ceremonia-content h1,
    #recepcion-content h1 {
      font-size: 2.8em;
      margin-bottom: 15px;
      color: #d4af37; /* Color dorado para los H1 de estas p√°ginas */
    }

    #ceremonia-content p,
    #recepcion-content p {
      max-width: 700px;
      margin: 10px;
      color: #e0e0e0;
    }

    /* Styles for general buttons within content pages */
    #ceremonia-content .btn,
    #recepcion-content .btn {
      margin-top: 30px; /* Adjust spacing for multiple buttons */
      padding: 12px 25px;
      background: transparent;
      border: 2px solid #ccc;
      color: #ccc;
      text-decoration: none;
      font-size: 1.1em;
      border-radius: 10px;
      transition: 0.3s;
      position: relative;
      margin-left: 10px;
      margin-right: 10px;
    }

    #ceremonia-content .btn:hover,
    #recepcion-content .btn:hover {
      background: #d4af37;
      color: #0b1f3a;
      border-color: #d4af37;
    }

    /* Animation for content entry (applies to .contenido when shown) */
    .contenido {
      opacity: 0;
      transform: translateY(40px);
      animation: entradaSuave 1.2s ease-out forwards;
    }

    @keyframes entradaSuave {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Styles for the confirmation section on the reception page */
    #recepcion-content #confirmacion {
      margin-top: 40px;
      position: relative;
      height: 200px; /* Give it a defined height for absolute positioning of child elements */
      width: 100%;
      max-width: 600px; /* Limit width to keep it neat */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    #recepcion-content #confirmacion h2 {
      color: #d4af37;
    }

    #recepcion-content #confirmacion button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 1em;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    #recepcion-content #confirmacion button:first-of-type { /* 'S√≠' button */
      background: #d4af37;
      color: #0b1f3a;
    }

    #recepcion-content #btnNo {
      background: #999;
      color: white;
      position: relative; /* Default to relative to stay in normal flow */
      margin-top: 10px; /* Add some margin to separate from the Yes button */
    }

    /* Styles for confirmation/rejection messages */
    #recepcion-content #cuadroConfirmacion,
    #recepcion-content #cuadroRechazo {
      display: none; /* Hidden by default */
      margin-top: 20px;
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      width: 90%; /* Responsive width */
    }

    #recepcion-content #cuadroConfirmacion {
      background: rgba(255,255,255,0.1);
      border: 2px solid #d4af37;
    }

    #recepcion-content #cuadroConfirmacion p {
      color: #fff;
    }

    #recepcion-content #cuadroConfirmacion a {
      color: #d4af37;
      text-decoration: underline;
    }

    #recepcion-content #cuadroRechazo {
      background: rgba(255,255,255,0.1); /* Consistent background with confirmation */
      border: 2px solid #d4af37; /* Consistent border */
      color: #fff; /* Ensure text is visible */
    }
    #recepcion-content #cuadroRechazo p,
    #recepcion-content #cuadroRechazo a {
        color: #fff; /* Ensure text color is white for readability */
    }
    #recepcion-content #cuadroRechazo a {
        text-decoration: underline;
    }


    /* Media Queries for Mobile Responsiveness */
    @media (max-width: 600px) {
      h1 {
        font-size: 2.2em; /* Smaller font size for main title on mobile */
      }
      p {
        font-size: 1em; /* Smaller font size for paragraphs on mobile */
        margin: 0 15px 20px; /* Adjust margins for smaller screens */
      }
      button {
        padding: 8px 20px;
        font-size: 1em;
      }

      #ceremonia-content h1,
      #recepcion-content h1 {
        font-size: 2em; /* Smaller font size for invitation/reception title on mobile */
      }
      #ceremonia-content p,
      #recepcion-content p {
        font-size: 0.95em; /* Slightly smaller for invitation paragraphs */
        margin: 5px;
      }
      #recepcion-content #confirmacion {
        height: 150px; /* Adjust height for mobile */
      }
    }
  </style>
</head>
<body>
  <div id="main-content">
    <h1>Invitaci√≥n a mi Graduaci√≥n</h1>
    <p class="quote-text">"Con el azul celeste que vest√≠ en cada paso, me despido de este rinc√≥n que fue mi refugio y mi hogar. Ven, acomp√°√±ame a abrazar juntos la nostalgia de un adi√≥s que duele pero que tambi√©n guarda la promesa de lo que fue."</p>
    <p class="info-text">Ubicaci√≥n: Unidad Educativa "San Vicente Ferrer"</p>
    <p class="info-text">Hora: 5 p.m.</p>
    <p class="quote-text">"Que tu presencia sea el abrazo silencioso en este suspiro de despedida"</p>
    <button id="btnVerInvitacion">Ver invitaci√≥n</button>
  </div>

  <div id="ceremonia-content">
    <div class="contenido">
      <h1>¬°Est√°s Invitado!</h1>
      <p class="quote-text">"Con todo el amor y gratitud que habita en mi alma, te invito a la eucarist√≠a en honor de mi graduaci√≥n, un momento para honrar a Dios, mi sustento, mi refugio y la fuente de mi vida. Sin √âl, este camino no habr√≠a sido posible; Su amor ha sido mi fuerza en cada paso. Ven, celebremos juntos Su infinita bondad."</p>
      <p class="info-text"><strong>Ceremonia:</strong> Iglesia San Jos√© de Shell</p>
      <p class="info-text"><strong>Hora:</strong> 19:00 p.m.</p>
      <p class="quote-text">"Unamos nuestros corazones y gratitud al Due√±o de nuestro camino"</p>

      <button class="btn" onclick="showPortada()">Volver</button>
      <button class="btn" onclick="showRecepcion()">Siguiente</button>
    </div>
  </div>

  <div id="recepcion-content">
    <div class="contenido">
      <h1>Celebraci√≥n de la Recepci√≥n</h1>
      <p class="quote-text">"Desde lo m√°s profundo de mi alma, quiero compartir contigo este instante tan especial. Despu√©s de revivir juntos tantos recuerdos, celebremos con alegr√≠a el fin de una etapa y la luz que trae lo que est√° por comenzar."</p>
      <p class="info-text">Ubicaci√≥n: El Encanto Natural</p>
      <p class="info-text">Hora: Despu√©s de la Misa</p>
      <p class="quote-text">"Este d√≠a tan especial lo quiero compartir con mis personas especiales."</p>

      <div id="confirmacion">
        <h2>¬øVas a asistir a mi graduaci√≥n?</h2>

        <button onclick="mostrarConfirmacion()">S√≠</button>

        <button id="btnNo">No</button>
      </div>

      <div id="cuadroConfirmacion">
        <p>¬°Me alegra que vayas a venir! üéâ</p>
        <a id="linkConfirmar" href="https://forms.gle/WjyZJ4VoFDxvnGrP8" target="_blank">Haz clic aqu√≠ para confirmar tu asistencia</a>
      </div>

      <div id="cuadroRechazo">
        <p>¬°Oh, no! ¬°Mi coraz√≥n de mariposa se entristece un poquito! ü¶ã Pero no te preocupes, ¬°igual te quiero! Y, qui√©n sabe, ¬°quiz√°s cambies de opini√≥n! üòâ</p>
        <p>De todos modos, ¬°por favor, llena este formulario para que sepa si contar contigo para el gran d√≠a! üëá</p>
        <a href="https://forms.gle/WjyZJ4VoFDxvnGrP8" target="_blank">Haz clic aqu√≠ para llenar el formulario</a>
      </div>

      <button class="btn" onclick="showCeremonia()">Volver</button>
    </div>
  </div>

  <div class="control-musica">
    <span id="musicMessage">No olvides dar click aqu√≠ para escuchar</span>
    <button id="btnMusica" title="Reproducir / Pausar m√∫sica">üîà</button>
  </div>
  <audio id="musica" loop>
    <source src="mil.mp3" type="audio/mpeg" />
    Tu navegador no soporta el elemento de audio.
  </audio>

  <div class="mariposas-gif gif1 mariposa-pequena">
    <img src="fly.gif" alt="Mariposa 1" />
  </div>
  <div class="mariposas-gif gif2 mariposa-mediana">
    <img src="fly.gif" alt="Mariposa 2" />
  </div>
  <div class="mariposas-gif gif3 mariposa-pequena">
    <img src="fly.gif" alt="Mariposa 3" />
  </div>
  <div class="mariposas-gif gif4 mariposa-grande">
    <img src="fly.gif" alt="Mariposa 4" />
  </div>
  <div class="mariposas-gif gif5 mariposa-pequena">
    <img src="fly.gif" alt="Mariposa 5" />
  </div>
  <div class="mariposas-gif gif6 mariposa-mediana">
    <img src="fly.gif" alt="Mariposa 6" />
  </div>
  <div class="mariposas-gif gif7 mariposa-pequena">
    <img src="fly.gif" alt="Mariposa 7" />
  </div>
  <div class="mariposas-gif gif8 mariposa-mediana">
    <img src="fly.gif" alt="Mariposa 8" />
  </div>
  <div class="mariposas-gif gif9 mariposa-pequena">
    <img src="fly.gif" alt="Mariposa 9" />
  </div>
  <div class="mariposas-gif gif10 mariposa-grande">
    <img src="fly.gif" alt="Mariposa 10" />
  </div>
  <div class="mariposas-gif gif11 mariposa-pequena">
    <img src="fly.gif" alt="Mariposa 11" />
  </div>
  <div class="mariposas-gif gif12 mariposa-mediana">
    <img src="fly.gif" alt="Mariposa 12" />
  </div>
  <div class="mariposas-gif gif13 mariposa-pequena">
    <img src="fly.gif" alt="Mariposa 13" />
  </div>
  <div class="mariposas-gif gif14 mariposa-mediana">
    <img src="fly.gif" alt="Mariposa 14" />
  </div>
  <div class="mariposas-gif gif15 mariposa-pequena">
    <img src="fly.gif" alt="Mariposa 15" />
  </div>

  <script>
    const musica = document.getElementById('musica');
    const btnMusica = document.getElementById('btnMusica');
    const musicMessage = document.getElementById('musicMessage'); // New element
    const mainContent = document.getElementById('main-content');
    const ceremoniaContent = document.getElementById('ceremonia-content');
    const recepcionContent = document.getElementById('recepcion-content');

    // Music control functionality
    btnMusica.addEventListener('click', () => {
      if (musica.paused) {
        musica.play();
        btnMusica.textContent = 'üîä'; // Speaker with sound
        btnMusica.classList.remove('muted');
      } else {
        musica.pause();
        btnMusica.textContent = 'üîà'; // Muted speaker
        btnMusica.classList.add('muted');
      }
    });

    // Helper function for page transitions
    function transitionPage(hidePage, showPage) {
      // Step 1: Start fading out the current page
      hidePage.style.opacity = '0';
      hidePage.style.pointerEvents = 'none';

      setTimeout(() => {
        // Step 2: After fade-out, make the current page completely invisible and remove from flow
        hidePage.style.visibility = 'hidden';
        hidePage.style.display = 'none'; // Ensure element is not rendered or taking space

        // Step 3: Prepare the next page for display
        showPage.style.display = 'flex'; // Make it part of the flex layout
        showPage.style.visibility = 'visible';
        // A tiny delay to allow display/visibility to render before opacity transition
        setTimeout(() => {
            showPage.style.opacity = '1';
            showPage.style.pointerEvents = 'all';

            // Re-trigger entry animation for the newly shown content
            const contenidoDiv = showPage.querySelector('.contenido');
            if (contenidoDiv) {
              contenidoDiv.style.animation = 'none';
              void contenidoDiv.offsetWidth; // Trigger reflow
              contenidoDiv.style.animation = 'entradaSuave 1.2s ease-out forwards';
            }

            // Reset confirmation/rejection messages if moving to reception page
            if (showPage === recepcionContent) {
                document.getElementById('cuadroConfirmacion').style.display = 'none';
                document.getElementById('cuadroRechazo').style.display = 'none'; // Ensure new rejection message is hidden initially
            }

        }, 50); // Small delay for visual consistency
      }, 700); // Matches CSS transition duration for opacity
    }

    // Functions to show specific pages
    function showPortada() {
      // Determine which page is currently visible to hide it
      if (ceremoniaContent.style.visibility === 'visible' && ceremoniaContent.style.opacity === '1') {
        transitionPage(ceremoniaContent, mainContent);
      } else if (recepcionContent.style.visibility === 'visible' && recepcionContent.style.opacity === '1') {
        transitionPage(recepcionContent, mainContent);
      }
    }

    function showCeremonia() {
      // Determine which page is currently visible to hide it
      if (mainContent.style.visibility === 'visible' && mainContent.style.opacity === '1') {
        transitionPage(mainContent, ceremoniaContent);
      } else if (recepcionContent.style.visibility === 'visible' && recepcionContent.style.opacity === '1') {
        transitionPage(recepcionContent, ceremoniaContent);
      }
    }

    function showRecepcion() {
      transitionPage(ceremoniaContent, recepcionContent);
    }

    // Assign global functions for HTML buttons (important for direct onclick attributes)
    window.showPortada = showPortada;
    window.showCeremonia = showCeremonia;
    window.showRecepcion = showRecepcion;
    window.mostrarConfirmacion = mostrarConfirmacion;

    // Attach event listener to the "Ver invitaci√≥n" button on DOMContentLoaded
    document.addEventListener('DOMContentLoaded', (event) => {
        const btnVerInvitacion = document.getElementById('btnVerInvitacion');
        if (btnVerInvitacion) {
            btnVerInvitacion.addEventListener('click', showCeremonia);
        }

        // Initialize state: ensure only mainContent is visible at start
        mainContent.style.display = 'flex';
        mainContent.style.opacity = '1';
        mainContent.style.visibility = 'visible';
        mainContent.style.pointerEvents = 'all';

        ceremoniaContent.style.display = 'none';
        recepcionContent.style.display = 'none';

        // Show music message for 20 seconds
        musicMessage.classList.add('show');
        setTimeout(() => {
            musicMessage.classList.remove('show');
        }, 20000); // 20 seconds
    });

    // Function for the "S√≠" button on the reception page
    function mostrarConfirmacion() {
      document.getElementById('cuadroConfirmacion').style.display = 'block';
      document.getElementById('cuadroRechazo').style.display = 'none'; // Ensure rejection message is hidden
    }

    // Logic for the "No" button on the reception page - NO LONGER MOVES
    const btnNo = document.getElementById('btnNo');
    // Removed mouseover event listener as requested.
    // btnNo.removeEventListener('mouseover', /* original handler function */);

    // CLICK: Handles showing the new humorous rejection message and form link
    btnNo.addEventListener('click', () => {
        document.getElementById('cuadroConfirmacion').style.display = 'none'; // Hide confirmation
        document.getElementById('cuadroRechazo').style.display = 'block';     // Show the new humorous rejection message
    });
  </script>
</body>
</html>